#include<stdio.h>
#include<math.h>
#include<ctype.h>
#include<string.h>
#include<stdlib.h>

#define pi acos(-1)
#define eps 1e-8
#define ULL unsigned long long
#define LL long long


//  C语言已经全忘光乐，不建议看这屎山代码（） 

void print(char s[], int num)
{
	char hex_table[17] = {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};
	printf("0x");
	for(int i=0;i<num;i+=4){
		if(s[i]=='0'&&s[i+1]=='0'&&s[i+2]=='0'&&s[i+3]=='0'){
			printf("0");
		}
		else if(s[i]=='0'&&s[i+1]=='0'&&s[i+2]=='0'&&s[i+3]=='1'){
			printf("1");
		}
		else if(s[i]=='0'&&s[i+1]=='0'&&s[i+2]=='1'&&s[i+3]=='0'){
			printf("2");
		}		
		else if(s[i]=='0'&&s[i+1]=='0'&&s[i+2]=='1'&&s[i+3]=='1'){
			printf("3");
		}
		else if(s[i]=='0'&&s[i+1]=='1'&&s[i+2]=='0'&&s[i+3]=='0'){
			printf("4");
		}		
		else if(s[i]=='0'&&s[i+1]=='1'&&s[i+2]=='0'&&s[i+3]=='1'){
			printf("5");
		}		
		else if(s[i]=='0'&&s[i+1]=='1'&&s[i+2]=='1'&&s[i+3]=='0'){
			printf("6");
		}		
		else if(s[i]=='0'&&s[i+1]=='1'&&s[i+2]=='1'&&s[i+3]=='1'){
			printf("7");
		}		
		else if(s[i]=='1'&&s[i+1]=='0'&&s[i+2]=='0'&&s[i+3]=='0'){
			printf("8");
		}		
		else if(s[i]=='1'&&s[i+1]=='0'&&s[i+2]=='0'&&s[i+3]=='1'){
			printf("9");
		}		
		else if(s[i]=='1'&&s[i+1]=='0'&&s[i+2]=='1'&&s[i+3]=='0'){
			printf("a");
		}		
		else if(s[i]=='1'&&s[i+1]=='0'&&s[i+2]=='1'&&s[i+3]=='1'){
			printf("b");
		}		
		else if(s[i]=='1'&&s[i+1]=='1'&&s[i+2]=='0'&&s[i+3]=='0'){
			printf("c");
		}		
		else if(s[i]=='1'&&s[i+1]=='1'&&s[i+2]=='0'&&s[i+3]=='1'){
			printf("d");
		}		
		else if(s[i]=='1'&&s[i+1]=='1'&&s[i+2]=='1'&&s[i+3]=='0'){
			printf("e");
		}	
		else if(s[i]=='1'&&s[i+1]=='1'&&s[i+2]=='1'&&s[i+3]=='1'){
			printf("f");
		}					
	}	
	printf("\n");
}

void IP_trans(char result[], char text[], short mode)
{
	short IP_sub[64] = {58, 50, 42, 34, 26, 18, 10, 2, 60, 52, 44, 36, 28, 20, 12, 4,62, 54, 46, 38, 30, 22, 14, 6, 64, 56, 48, 40, 32, 24, 16, 8,57, 49, 41, 33, 25, 17, 9, 1, 59, 51, 43, 35, 27, 19, 11, 3,61, 53, 45, 37, 29, 21, 13, 5, 63, 55, 47, 39, 31, 23, 15, 7};
	short IP_inv_sub[64] = {40, 8, 48, 16, 56, 24, 64, 32, 39, 7, 47, 15, 55, 23, 63, 31,38, 6, 46, 14, 54, 22, 62, 30, 37, 5, 45, 13, 53, 21, 61, 29,36, 4, 44, 12, 52, 20, 60, 28, 35, 3, 43, 11, 51, 19, 59, 27,34, 2, 42, 10, 50, 18, 58, 26, 33, 1, 41, 9, 49, 17, 57, 25}; 
	if(mode == 1){
		for(short i=0;i<64;i++){
			result[i] = text[IP_sub[i]-1];
		}
	}
	else{
		for(short i=0;i<64;i++){
			result[i] = text[IP_inv_sub[i]-1];
		}
	}
} 

void E(char result[], char R[], char K[])
{
	char r[49] = {0};
	short j = 0;
	for(short i=0;i<32;i++){
		if(i%4 == 0){
			r[j] = R[i==0?31:i-1];
			r[j+1] = R[i];
			j += 2;
		}
		else if(i % 4 == 3){
			r[j] = R[i];
			r[j+1] = R[(i+1)%32];
			j += 2;
		}
		else{
			r[j] = R[i];
			j++;
		}
	}
	for(short i=0;i<48;i++){
		result[i] = (r[i] - '0') ^ (K[i] - '0') + '0';
	}
}

unsigned long long bin_to_int(char bin[], short l)
{
	unsigned long long result = 0;
	unsigned long long index = 1;
	for(short i=l-1;i>=0;i--){
		result += index*(bin[i] - '0');
		index *= 2;
	}
	return result;
}

void int_to_bin(char result[] ,unsigned long long num, short l)
{
	l--;
	while(l>=0){
		result[l] = num % 2 + '0';
		num >>= 1;
		l--;
	}
}

void S_P_box(char result[], char R[])
{
	long long SPbox[8][64] = {{0x00808200, 0x00000000, 0x00008000, 0x00808202,0x00808002, 0x00008202, 0x00000002, 0x00008000,0x00000200, 0x00808200, 0x00808202, 0x00000200,0x00800202, 0x00808002, 0x00800000, 0x00000002,0x00000202, 0x00800200, 0x00800200, 0x00008200,0x00008200, 0x00808000, 0x00808000, 0x00800202,0x00008002, 0x00800002, 0x00800002, 0x00008002,0x00000000, 0x00000202, 0x00008202, 0x00800000,0x00008000, 0x00808202, 0x00000002, 0x00808000,0x00808200, 0x00800000, 0x00800000, 0x00000200,0x00808002, 0x00008000, 0x00008200, 0x00800002,0x00000200, 0x00000002, 0x00800202, 0x00008202,0x00808202, 0x00008002, 0x00808000, 0x00800202,0x00800002, 0x00000202, 0x00008202, 0x00808200,0x00000202, 0x00800200, 0x00800200, 0x00000000,0x00008002, 0x00008200, 0x00000000, 0x00808002},
							  {0x40084010, 0x40004000, 0x00004000, 0x00084010,0x00080000, 0x00000010, 0x40080010, 0x40004010,0x40000010, 0x40084010, 0x40084000, 0x40000000,0x40004000, 0x00080000, 0x00000010, 0x40080010,0x00084000, 0x00080010, 0x40004010, 0x00000000,0x40000000, 0x00004000, 0x00084010, 0x40080000,0x00080010, 0x40000010, 0x00000000, 0x00084000,0x00004010, 0x40084000, 0x40080000, 0x00004010,0x00000000, 0x00084010, 0x40080010, 0x00080000,0x40004010, 0x40080000, 0x40084000, 0x00004000,0x40080000, 0x40004000, 0x00000010, 0x40084010,0x00084010, 0x00000010, 0x00004000, 0x40000000,0x00004010, 0x40084000, 0x00080000, 0x40000010,0x00080010, 0x40004010, 0x40000010, 0x00080010,0x00084000, 0x00000000, 0x40004000, 0x00004010,0x40000000, 0x40080010, 0x40084010, 0x00084000},
							  {0x00000104, 0x04010100, 0x00000000, 0x04010004,0x04000100, 0x00000000, 0x00010104, 0x04000100,0x00010004, 0x04000004, 0x04000004, 0x00010000,0x04010104, 0x00010004, 0x04010000, 0x00000104,0x04000000, 0x00000004, 0x04010100, 0x00000100,0x00010100, 0x04010000, 0x04010004, 0x00010104,0x04000104, 0x00010100, 0x00010000, 0x04000104,0x00000004, 0x04010104, 0x00000100, 0x04000000,0x04010100, 0x04000000, 0x00010004, 0x00000104,0x00010000, 0x04010100, 0x04000100, 0x00000000,0x00000100, 0x00010004, 0x04010104, 0x04000100,0x04000004, 0x00000100, 0x00000000, 0x04010004,0x04000104, 0x00010000, 0x04000000, 0x04010104,0x00000004, 0x00010104, 0x00010100, 0x04000004,0x04010000, 0x04000104, 0x00000104, 0x04010000,0x00010104, 0x00000004, 0x04010004, 0x00010100},
							  {0x80401000, 0x80001040, 0x80001040, 0x00000040,0x00401040, 0x80400040, 0x80400000, 0x80001000,0x00000000, 0x00401000, 0x00401000, 0x80401040,0x80000040, 0x00000000, 0x00400040, 0x80400000,0x80000000, 0x00001000, 0x00400000, 0x80401000,0x00000040, 0x00400000, 0x80001000, 0x00001040,0x80400040, 0x80000000, 0x00001040, 0x00400040,0x00001000, 0x00401040, 0x80401040, 0x80000040,0x00400040, 0x80400000, 0x00401000, 0x80401040,0x80000040, 0x00000000, 0x00000000, 0x00401000,0x00001040, 0x00400040, 0x80400040, 0x80000000,0x80401000, 0x80001040, 0x80001040, 0x00000040,0x80401040, 0x80000040, 0x80000000, 0x00001000,0x80400000, 0x80001000, 0x00401040, 0x80400040,0x80001000, 0x00001040, 0x00400000, 0x80401000,0x00000040, 0x00400000, 0x00001000, 0x00401040},
							  {0x00000080, 0x01040080, 0x01040000, 0x21000080,0x00040000, 0x00000080, 0x20000000, 0x01040000,0x20040080, 0x00040000, 0x01000080, 0x20040080,0x21000080, 0x21040000, 0x00040080, 0x20000000,0x01000000, 0x20040000, 0x20040000, 0x00000000,0x20000080, 0x21040080, 0x21040080, 0x01000080,0x21040000, 0x20000080, 0x00000000, 0x21000000,0x01040080, 0x01000000, 0x21000000, 0x00040080,0x00040000, 0x21000080, 0x00000080, 0x01000000,0x20000000, 0x01040000, 0x21000080, 0x20040080,0x01000080, 0x20000000, 0x21040000, 0x01040080,0x20040080, 0x00000080, 0x01000000, 0x21040000,0x21040080, 0x00040080, 0x21000000, 0x21040080,0x01040000, 0x00000000, 0x20040000, 0x21000000,0x00040080, 0x01000080, 0x20000080, 0x00040000,0x00000000, 0x20040000, 0x01040080, 0x20000080},
							  {0x10000008, 0x10200000, 0x00002000, 0x10202008,0x10200000, 0x00000008, 0x10202008, 0x00200000,0x10002000, 0x00202008, 0x00200000, 0x10000008,0x00200008, 0x10002000, 0x10000000, 0x00002008,0x00000000, 0x00200008, 0x10002008, 0x00002000,0x00202000, 0x10002008, 0x00000008, 0x10200008,0x10200008, 0x00000000, 0x00202008, 0x10202000,0x00002008, 0x00202000, 0x10202000, 0x10000000,0x10002000, 0x00000008, 0x10200008, 0x00202000,0x10202008, 0x00200000, 0x00002008, 0x10000008,0x00200000, 0x10002000, 0x10000000, 0x00002008,0x10000008, 0x10202008, 0x00202000, 0x10200000,0x00202008, 0x10202000, 0x00000000, 0x10200008,0x00000008, 0x00002000, 0x10200000, 0x00202008,0x00002000, 0x00200008, 0x10002008, 0x00000000,0x10202000, 0x10000000, 0x00200008, 0x10002008},
							  {0x00100000, 0x02100001, 0x02000401, 0x00000000,0x00000400, 0x02000401, 0x00100401, 0x02100400,0x02100401, 0x00100000, 0x00000000, 0x02000001,0x00000001, 0x02000000, 0x02100001, 0x00000401,0x02000400, 0x00100401, 0x00100001, 0x02000400,0x02000001, 0x02100000, 0x02100400, 0x00100001,0x02100000, 0x00000400, 0x00000401, 0x02100401,0x00100400, 0x00000001, 0x02000000, 0x00100400,0x02000000, 0x00100400, 0x00100000, 0x02000401,0x02000401, 0x02100001, 0x02100001, 0x00000001,0x00100001, 0x02000000, 0x02000400, 0x00100000,0x02100400, 0x00000401, 0x00100401, 0x02100400,0x00000401, 0x02000001, 0x02100401, 0x02100000,0x00100400, 0x00000000, 0x00000001, 0x02100401,0x00000000, 0x00100401, 0x02100000, 0x00000400,0x02000001, 0x02000400, 0x00000400, 0x00100001},
							  {0x08000820, 0x00000800, 0x00020000, 0x08020820,0x08000000, 0x08000820, 0x00000020, 0x08000000,0x00020020, 0x08020000, 0x08020820, 0x00020800,0x08020800, 0x00020820, 0x00000800, 0x00000020,0x08020000, 0x08000020, 0x08000800, 0x00000820,0x00020800, 0x00020020, 0x08020020, 0x08020800,0x00000820, 0x00000000, 0x00000000, 0x08020020,0x08000020, 0x08000800, 0x00020820, 0x00020000,0x00020820, 0x00020000, 0x08020800, 0x00000800,0x00000020, 0x08020020, 0x00000800, 0x00020820,0x08000800, 0x00000020, 0x08000020, 0x08020000,0x08020020, 0x08000000, 0x00020000, 0x08000820,0x00000000, 0x08020820, 0x00020020, 0x08000020,0x08020000, 0x08000800, 0x08000820, 0x00000000,0x08020820, 0x00020800, 0x00020800, 0x00000820,0x00000820, 0x00020020, 0x08000000, 0x08020800}};
	unsigned long long res = 0;
	char r[10] = {0};
	for(short i=0;i<8;i++){
		for(short j=i*6,k=0;k<6;j++,k++){
			r[k] = R[j];
		}
		res ^= SPbox[i][bin_to_int(r, 6)];
	}
	int_to_bin(result, res, 32);
}

void one_round(char Li[], char Ri[], char Li_1[], char Ri_1[], char K[])
{
	strcpy(Li, Ri_1);
	char result1[49] = {0};
	E(result1, Ri_1, K);
	char result2[33] = {0};
	S_P_box(result2,result1);
	unsigned long long l = bin_to_int(result2, 32)^bin_to_int(Li_1,32);
	int_to_bin(Ri, l, 32);
}

void shift(char result1[], char result2[], char source1[], char source2[], short num)
{
	short j=0;
	for(short i=num;i<28;i++){
		result1[j] = source1[i];
		result2[j] = source2[i];
		j++;
	}
	for(short i=0;i<num;i++){
		result1[j] = source1[i];
		result2[j] = source2[i];
		j++;
	}
}

void generate_key(char key[][49], char k[])
{
	short key_sub1[56] = {57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18,10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36,63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22,14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4};
	short key_sub2[48] = {14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10,23, 19, 12, 4, 26, 8, 16, 7, 27, 20, 13, 2,41, 52, 31, 37, 47, 55, 30, 40, 51, 45, 33, 48,44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32};
	short key_shift[16] = {1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1};
	char K[56] = {0};
	for(short i=0;i<56;i++){
		K[i] = k[key_sub1[i]-1];
	}
	for(short i=0;i<16;i++){
		char C[29] = {0};
		char D[29] = {0};
		for(short j=0;j<28;j++){
			C[j] = K[j];
		}
		for(short j=28;j<56;j++){
			D[j-28] = K[j];
		}
		char C1[29] = {0};
		char D1[29] = {0};
		shift(C1, D1, C, D, key_shift[i]);
		for(short j=0;j<28;j++){
			K[j] = C1[j];
		}
		for(short j=28;j<56;j++){
			K[j] = D1[j-28];
		}
		for(short j=0;j<48;j++){
			key[i][j] = K[key_sub2[j]-1];
		}
	}
}

void DES(char result[], char s[], char key[][49])
{
	char result1[65] = {0};
	IP_trans(result1, s, 1);
	for(short round_i=0;round_i<16;round_i++){
		char L[33] = {0};
		char R[33] = {0};
		for(short j=0;j<32;j++){
			L[j] = result1[j];
		}
		for(short j=32;j<64;j++){
			R[j-32] = result1[j];
		}	
		char L1[33] = {0};
		char R1[33] = {0};
		one_round(L1, R1, L, R, key[round_i]);		
		for(short j=0;j<32;j++){
			result1[j] = L1[j];
		}
		for(short j=0;j<32;j++){
			result1[j+32] = R1[j];
		}
	}
	for(short i=0;i<32;i++){
		char c;
		c = result1[i];
		result1[i] = result1[i+32];
		result1[i+32] = c;
	}
	IP_trans(result, result1, 0);
} 

void change(char result[], char x[])
{
	for(short i=63;i>=0;i--){
		result[i] = 
	}
	short j=0;
	for(short i=2;i<18;i++){
		if(x[i] == '0'){
			result[j] = '0';
			result[j+1] = '0';
			result[j+2] = '0';
			result[j+3] = '0';			
		}
		else if(x[i] == '1'){
			result[j] = '0';
			result[j+1] = '0';
			result[j+2] = '0';
			result[j+3] = '1';				
		}
		else if(x[i] == '2'){
			result[j] = '0';
			result[j+1] = '0';
			result[j+2] = '1';
			result[j+3] = '0';				
		}
		else if(x[i] == '3'){
			result[j] = '0';
			result[j+1] = '0';
			result[j+2] = '1';
			result[j+3] = '1';				
		}
		else if(x[i] == '4'){
			result[j] = '0';
			result[j+1] = '1';
			result[j+2] = '0';
			result[j+3] = '0';				
		}
		else if(x[i] == '5'){
			result[j] = '0';
			result[j+1] = '1';
			result[j+2] = '0';
			result[j+3] = '1';				
		}
		else if(x[i] == '6'){
			result[j] = '0';
			result[j+1] = '1';
			result[j+2] = '1';
			result[j+3] = '0';				
		}
		else if(x[i] == '7'){
			result[j] = '0';
			result[j+1] = '1';
			result[j+2] = '1';
			result[j+3] = '1';				
		}
		else if(x[i] == '8'){
			result[j] = '1';
			result[j+1] = '0';
			result[j+2] = '0';
			result[j+3] = '0';				
		}
		else if(x[i] == '9'){
			result[j] = '1';
			result[j+1] = '0';
			result[j+2] = '0';
			result[j+3] = '1';				
		}
		else if(x[i] == 'a'){
			result[j] = '1';
			result[j+1] = '0';
			result[j+2] = '1';
			result[j+3] = '0';				
		}
		else if(x[i] == 'b'){
			result[j] = '1';
			result[j+1] = '0';
			result[j+2] = '1';
			result[j+3] = '1';				
		}
		else if(x[i] == 'c'){
			result[j] = '1';
			result[j+1] = '1';
			result[j+2] = '0';
			result[j+3] = '0';				
		}
		else if(x[i] == 'd'){
			result[j] = '1';
			result[j+1] = '1';
			result[j+2] = '0';
			result[j+3] = '1';				
		}
		else if(x[i] == 'e'){
			result[j] = '1';
			result[j+1] = '1';
			result[j+2] = '1';
			result[j+3] = '0';				
		}
		else if(x[i] == 'f'){
			result[j] = '1';
			result[j+1] = '1';
			result[j+2] = '1';
			result[j+3] = '1';				
		}
		j += 4; 
	}
}



int main(){
	int T;
	scanf("%d",&T);
	unsigned long long S;
	scanf("%0x",S);
	char s[66] = {0};
	change(s, S);
	char K[20] = {0};
	scanf("%s",K);
	char k[66] = {0};
	change(k, K);	
	char key[16][49] = {0};
	generate_key(key, k);
	for(int i=0;i<T;i++){
		char result[65] = {0};
		DES(result, s, key);
		for(int i=0;i<64;i++){
			s[i] = result[i];
		}
	}
	print(s, 64);
}
